# =====================================
# Rasa NLU + Core Configuration (Español)
# =====================================

recipe: default.v1
language: es
assistant_id: rasel-agent

pipeline:
  # Convierte texto a tokens, sensible a idioma español
  - name: WhitespaceTokenizer

  # Usa preentrenamiento en español (spaCy)
  - name: SpacyNLP
    model: "es_core_news_md" # modelo en español (debes instalarlo)

  # Detecta entidades (lugares, fechas, etc.)
  - name: SpacyEntityExtractor

  # Embeddings contextuales para intenciones
  - name: DIETClassifier
    epochs: 100
    random_seed: 42

  # Sinónimos (por ejemplo "sí" = "afirmativo")
  - name: EntitySynonymMapper

  # Usa reglas simples si las defines en rules.yml
  - name: RegexEntityExtractor

  # Selección de respuestas
  - name: ResponseSelector
    epochs: 100

  # Maneja faltas de ortografía o confusiones menores
  - name: FallbackClassifier
    threshold: 0.3
    ambiguity_threshold: 0.1

policies:
  # Políticas de diálogo (aprende de tus stories)
  - name: MemoizationPolicy
  - name: RulePolicy
  - name: TEDPolicy
    max_history: 5
    epochs: 100
